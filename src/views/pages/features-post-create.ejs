  <link rel="stylesheet" href="../../../node_modules/summernote/dist/summernote-bs4.css">
  <link rel="stylesheet" href="../../../node_modules/selectric/public/selectric.css">
  <link rel="stylesheet" href="../../../node_modules/bootstrap-tagsinput/dist/bootstrap-tagsinput.css">
  <link rel="stylesheet" href="../../../node_modules/dropzone/dist/min/dropzone.min.css">


  <% const bodyContent=` 
  <section class="section">
    <div class="section-header">
      <div class="section-header-back">
        <a href="features-posts.html" class="btn btn-icon"><i class="fas fa-arrow-left"></i></a>
      </div>
      <h1>Cadastro de Máquinas</h1>
      <div class="section-header-breadcrumb">
        <div class="breadcrumb-item active"><a href="#">Dashboard</a></div>
        <div class="breadcrumb-item"><a href="#">Cadastro</a></div>
        <div class="breadcrumb-item">Cadastro de Máquinas</div>
      </div>
    </div>

    <div class="section-body">
      <h2 class="section-title">Cadastrar Máquina</h2>
      <p class="section-lead">
        Por favor preencha as informações abaixo:
      </p>

      <div class="row">
        <div class="col-12">
          <div class="card">
            <div class="card-header">
              <h4>Máquinas</h4>
            </div>
            <div class="card-body">
              <form id="machineForm" action="/machine/create" method="POST" class="needs-validation" novalidate enctype="multipart/form-data">
                <!-- Campo Nome -->
                <div class="form-group row mb-4">
                    <label class="col-form-label text-md-right col-12 col-md-3 col-lg-3">Nome</label>
                    <div class="col-sm-12 col-md-7">
                        <input type="text" class="form-control" name="name">
                    </div>
                </div>
            
                <!-- Campo Cliente -->
                <div class="form-group row mb-4">
                    <label class="col-form-label text-md-right col-12 col-md-3 col-lg-3">Cliente</label>
                    <div class="col-sm-12 col-md-7">
                        <input type="text" class="form-control" name="client">
                    </div>
                </div>
            
                <!-- Campo Imagens -->
                <div class="form-group row mb-4">
                    <label class="col-form-label text-md-right col-12 col-md-3 col-lg-3">Imagens</label>
                    <div class="col-sm-12 col-md-7">
                        <div id="image-preview-container" class="image-preview-container">
                            <label for="image-upload" id="image-label" class="btn btn-primary">Adicionar Imagens</label>
                            <input type="file" name="images" id="image-upload" multiple class="d-none" />
                        </div>
                        <div id="preview" class="row md-3"></div>
                    </div>
                </div>
            
                <!-- Campo Etiqueta -->
                <div class="form-group row mb-4">
                    <label class="col-form-label text-md-right col-12 col-md-3 col-lg-3">Etiqueta</label>
                    <div class="col-sm-12 col-md-7">
                        <input type="text" class="form-control inputtags" name="tags">
                    </div>
                </div>
            
                <!-- Campo Status -->
                <div class="form-group row mb-4">
                    <label class="col-form-label text-md-right col-12 col-md-3 col-lg-3">Status</label>
                    <div class="col-sm-12 col-md-7">
                        <input type="text" class="form-control" name="status">
                    </div>
                </div>
            
                <!-- Campo Descrição -->
                <div class="form-group row mb-4">
                    <label class="col-form-label text-md-right col-12 col-md-3 col-lg-3">Descrição</label>
                    <div class="col-sm-12 col-md-7">
                        <textarea class="summernote-simple" name="description"></textarea>
                    </div>
                </div>
            
                <!-- Botão de Envio -->
                <div class="form-group row mb-4">
                    <label class="col-form-label text-md-right col-12 col-md-3 col-lg-3"></label>
                    <div class="col-sm-12 col-md-7">
                        <button type="submit" class="btn btn-primary">Cadastrar</button>
                    </div>
                </div>
            </form>
            
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  `;  
  %>

  <%- include('layouts/master.ejs', { title: title, site_name: site_name, bodyContent: bodyContent, year: year, version:
    version }) %>

    <!-- <script>
      $(document).ready(function () {
          $('#machineForm').submit(function (event) {
              event.preventDefault(); // Evita o envio padrão do formulário
  
              var formData = new FormData(this); // Captura os dados do formulário
  
              console.log('Enviando dados para /machine/create');
  
              // Envia os dados para o servidor via AJAX
              $.ajax({
                  type: 'POST',
                  url: '/machine/create',
                  data: formData,
                  processData: false,
                  contentType: false,
                  success: function (response) {
                      console.log('Resposta do servidor recebida:', response);
                      alert('Máquina cadastrada com sucesso!');
                      // Redireciona ou realiza outra ação após o sucesso
                      window.location.href = '/'; // Exemplo: redireciona para a página inicial
                  },
                  error: function (error) {
                      console.error('Erro durante o envio da requisição:', error.responseJSON);
                      alert('Erro ao cadastrar máquina. Por favor, tente novamente.');
                  }
              });
          });
      });
  </script> -->

  <script src="../../../node_modules/summernote/dist/summernote-bs4.js"></script>
  <script src="../../../node_modules/selectric/public/jquery.selectric.min.js"></script>
  <script src="../../../node_modules/@aacassandra/jquery_upload_preview/assets/js/jquery.uploadPreview.min.js"></script>
  <script src="../../../node_modules/bootstrap-tagsinput/dist/bootstrap-tagsinput.min.js"></script>

  
  <script src="../../../assets/js/page/features-post-create.js"></script>

